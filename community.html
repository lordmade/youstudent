<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Privy â€¢ Private Messenger</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Symbols+Rounded"/>
  <style>
    :root {
      --bg:         #f8fafc;
      --surface:    #ffffff;
      --elevated:   #f1f5f9;
      --text:       #0f172a;
      --text2:      #64748b;
      --text3:      #94a3b8;
      --accent:     #2e7df6;
      --accent-dark: #1a6be0;
      --success:    #188038;
      --danger:     #dc2626;
      --divider:    #e2e8f0;
      --radius:     20px;
      --radius-sm:  12px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100dvh;
      display: flex;
      flex-direction: column;
      -webkit-font-smoothing: antialiased;
      -webkit-tap-highlight-color: transparent;
    }

    header {
      height: 56px;
      padding: 0 16px;
      background: var(--surface);
      border-bottom: 1px solid var(--divider);
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 17px;
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #e2e8f0;
      object-fit: cover;
      flex-shrink: 0;
    }

    .avatar-lg {
      width: 56px;
      height: 56px;
    }

    .fab {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 56px;
      height: 56px;
      background: var(--accent);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      cursor: pointer;
      z-index: 100;
    }

    .fab:active {
      background: var(--accent-dark);
    }

    /* â”€â”€ Chats List â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    #chatsView {
      flex: 1;
      overflow-y: auto;
    }

    .search-bar {
      padding: 12px 16px;
      background: var(--surface);
      border-bottom: 1px solid var(--divider);
    }

    .search-input {
      width: 100%;
      padding: 10px 16px;
      background: var(--elevated);
      border: 1px solid var(--divider);
      border-radius: var(--radius-sm);
      font-size: 16px;
      color: var(--text);
    }

    .search-input::placeholder {
      color: var(--text3);
    }

    .chat-item {
      padding: 12px 16px;
      display: flex;
      gap: 12px;
      border-bottom: 1px solid var(--divider);
      cursor: pointer;
    }

    .chat-item:active {
      background: rgba(0,0,0,0.04);
    }

    .chat-info {
      flex: 1;
      min-width: 0;
    }

    .chat-name {
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .chat-preview {
      font-size: 15px;
      color: var(--text2);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .chat-time {
      font-size: 13px;
      color: var(--text2);
      margin-left: 8px;
      white-space: nowrap;
    }

    .unread {
      font-weight: 600;
      color: var(--text);
    }

    .unread-dot {
      width: 10px;
      height: 10px;
      background: var(--accent);
      border-radius: 50%;
      margin-left: auto;
    }

    /* â”€â”€ Chat View â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    #chatView {
      display: none;
      flex-direction: column;
      height: 100dvh;
      background: var(--bg);
    }

    #chatHeader {
      background: var(--surface);
    }

    #messageList {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .message {
      max-width: 78%;
      padding: 10px 14px;
      border-radius: var(--radius);
      font-size: 16px;
      line-height: 1.4;
      position: relative;
    }

    .message.received {
      align-self: flex-start;
      background: var(--surface);
      border: 1px solid var(--divider);
      border-radius: var(--radius) var(--radius) var(--radius) 6px;
    }

    .message.sent {
      align-self: flex-end;
      background: var(--accent);
      color: white;
      border-radius: var(--radius) var(--radius) 6px var(--radius);
    }

    .msg-time {
      font-size: 12px;
      color: var(--text2);
      margin-top: 4px;
      opacity: 0.9;
    }

    .msg-sent .msg-time {
      color: rgba(255,255,255,0.8);
      text-align: right;
    }

    .msg-checks {
      font-size: 14px;
      margin-left: 4px;
      vertical-align: middle;
    }

    .msg-checks.read {
      color: #60a5fa;
    }

    #chatInputArea {
      padding: 8px 12px;
      background: var(--surface);
      border-top: 1px solid var(--divider);
      display: flex;
      align-items: flex-end;
      gap: 8px;
    }

    #messageInput {
      flex: 1;
      padding: 12px 16px;
      background: var(--elevated);
      border: 1px solid var(--divider);
      border-radius: 24px;
      font-size: 16px;
      max-height: 120px;
      resize: none;
      line-height: 1.4;
    }

    #sendBtn {
      width: 44px;
      height: 44px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    #sendBtn.hidden {
      display: none;
    }

    .icon-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text2);
      font-size: 24px;
      cursor: pointer;
    }

    .status-secure {
      font-size: 12px;
      color: var(--success);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .status-secure::before {
      content: "lock";
      font-family: "Material Symbols Rounded";
      font-size: 14px;
    }

    @media (min-width: 768px) {
      body {
        max-width: 480px;
        margin: 0 auto;
        border-left: 1px solid var(--divider);
        border-right: 1px solid var(--divider);
      }
    }
  </style>
</head>
<body>

  <!-- Chats List View -->
  <div id="chatsView">
    <header>
      <div style="display:flex; align-items:center; gap:12px;">
        <div class="avatar avatar-lg" style="background:#3b82f6; color:white; display:flex; align-items:center; justify-content:center; font-weight:600;">K</div>
        <span>Chats</span>
      </div>
      <span class="material-symbols-rounded" style="font-size:24px;">more_vert</span>
    </header>

    <div class="search-bar">
      <input type="text" class="search-input" placeholder="Search"/>
    </div>

    <div style="padding:16px 16px 8px; font-size:13px; color:var(--text2);">
      All conversations are end-to-end encrypted
    </div>

    <!-- Chat items -->
    <div class="chat-item">
      <div class="avatar avatar-lg" style="background:#8b5cf6;"></div>
      <div class="chat-info">
        <div style="display:flex; justify-content:space-between;">
          <div class="chat-name">Sarah M.</div>
          <div class="chat-time">14:22</div>
        </div>
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <div class="chat-preview unread">Hey, are we still on for tomorrow?</div>
          <div class="unread-dot"></div>
        </div>
      </div>
    </div>

    <div class="chat-item">
      <div class="avatar avatar-lg" style="background:#ec4899;"></div>
      <div class="chat-info">
        <div style="display:flex; justify-content:space-between;">
          <div class="chat-name">Thabo K.</div>
          <div class="chat-time">Yesterday</div>
        </div>
        <div class="chat-preview">Here's the document âœ“âœ“</div>
      </div>
    </div>

    <div class="chat-item">
      <div class="avatar avatar-lg" style="background:#f59e0b;"></div>
      <div class="chat-info">
        <div style="display:flex; justify-content:space-between;">
          <div class="chat-name">Work Group</div>
          <div class="chat-time">10:15</div>
        </div>
        <div class="chat-preview">You: Sounds good, I'll handle it</div>
      </div>
    </div>

    <!-- More items can be added here -->

    <div class="fab" onclick="openChat()">
      <span class="material-symbols-rounded" style="font-size:28px;">edit</span>
    </div>
  </div>

  <!-- Single Chat View -->
  <div id="chatView">
    <header id="chatHeader">
      <div style="display:flex; align-items:center; gap:12px;">
        <span class="material-symbols-rounded" onclick="closeChat()" style="font-size:28px; cursor:pointer;">arrow_back</span>
        <div class="avatar avatar-lg" style="background:#8b5cf6;"></div>
        <div>
          <div style="font-weight:600; font-size:17px;">Sarah M.</div>
          <div class="status-secure">End-to-end encrypted</div>
        </div>
      </div>
      <div style="display:flex; gap:16px;">
        <span class="material-symbols-rounded">call</span>
        <span class="material-symbols-rounded">videocam</span>
      </div>
    </header>

    <div id="messageList">
      <!-- Messages are added via JS below -->
    </div>

    <div id="chatInputArea">
      <div class="icon-btn">+</div>
      <textarea id="messageInput" placeholder="Message..." rows="1" oninput="autoGrow(this)"></textarea>
      <div class="icon-btn">mood</div>
      <button id="sendBtn" class="hidden"><span class="material-symbols-rounded">send</span></button>
    </div>
  </div>

  <script>
    function autoGrow(el) {
      el.style.height = "auto";
      el.style.height = (el.scrollHeight) + "px";
      const btn = document.getElementById('sendBtn');
      btn.classList.toggle('hidden', el.value.trim().length === 0);
    }

    function openChat() {
      document.getElementById('chatsView').style.display = 'none';
      document.getElementById('chatView').style.display = 'flex';
    }

    function closeChat() {
      document.getElementById('chatView').style.display = 'none';
      document.getElementById('chatsView').style.display = 'block';
    }

    // Mock messages (you can replace with real data later)
    const messages = [
      { type: 'received', text: 'Hey! Are we still meeting at 3?', time: '14:18' },
      { type: 'sent', text: 'Yes, definitely. See you there ðŸ˜Š', time: '14:19', read: true },
      { type: 'received', text: 'Perfect. Should I bring the files?', time: '14:20' },
      { type: 'sent', text: 'No need, I printed them already', time: '14:21', read: true },
      { type: 'received', text: 'Great, saves me time. Thanks!', time: '14:22' }
    ];

    const list = document.getElementById('messageList');
    messages.forEach(m => {
      const div = document.createElement('div');
      div.className = `message ${m.type}`;
      div.innerHTML = `
        ${m.text}
        <div class="msg-time ${m.type === 'sent' ? 'msg-sent' : ''}">
          ${m.time}
          ${m.type === 'sent' ? `<span class="msg-checks ${m.read ? 'read' : ''}">âœ“âœ“</span>` : ''}
        </div>
      `;
      list.appendChild(div);
    });
    list.scrollTop = list.scrollHeight;
  </script>
</body>
</html>
