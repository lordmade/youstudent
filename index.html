<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome to TutorApp</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @keyframes bookPulse {
      0%, 100% { transform: scale(1) rotate(0deg); }
      50% { transform: scale(1.1) rotate(5deg); }
    }
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    .animate-book { animation: bookPulse 2s ease-in-out infinite; }
    .animate-fade-in { animation: fadeIn 1s ease-in forwards; }
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white p-8 rounded-lg shadow-lg text-center animate-fade-in">
    <svg class="w-24 h-24 mx-auto animate-book" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="#2563EB"/>
      <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke="#2563EB"/>
      <path d="M12 8l-8 4 8 4 8-4-8-4z" fill="#10B981"/>
      <path d="M12 16v6" stroke="#10B981"/>
      <path d="M8 18h8" stroke="#10B981"/>
    </svg>
    <h1 class="text-2xl font-bold text-gray-800 mt-4">Welcome to TutorApp</h1>
    <p class="text-gray-600 mt-2">Empowering Learning, Connecting Tutors</p>
    <button id="startButton" class="mt-6 bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 flex items-center justify-center mx-auto">
      <span>Start</span>
      <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
      </svg>
    </button>
    <p id="error" class="text-red-500 text-sm mt-2 hidden"></p>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBOyZ3As4GTuNvjemvPF_SpsC6m6vqtNhc",
      authDomain: "fire-b-a8878.firebaseapp.com",
      databaseURL: "https://fire-b-a8878.firebaseio.com",
      projectId: "fire-b-a8878",
      storageBucket: "fire-b-a8878.firebasestorage.app",
      messagingSenderId: "658673187627",
      appId: "1:658673187627:web:6e4c29af661785f0afa36e",
      measurementId: "G-V4W97VMSKL"
    };

    let auth;
    try {
      firebase.initializeApp(firebaseConfig);
      auth = firebase.auth();
      console.log('Firebase initialized successfully');
    } catch (error) {
      console.error('Firebase initialization failed:', error);
      document.getElementById('error').textContent = 'Failed to connect to server.';
      document.getElementById('error').classList.remove('hidden');
    }

    document.getElementById('startButton').addEventListener('click', () => {
      console.log('Start button clicked, redirecting to login.html');
      window.location.href = 'login.html';
    });

    if (auth) {
      auth.onAuthStateChanged((user) => {
        console.log('Auth state:', user ? `User logged in: ${user.uid}` : 'No user');
        if (user) {
          console.log('Redirecting to dashboard.html');
          window.location.href = 'dashboard.html';
        }
      }, (error) => {
        console.error('Auth state error:', error);
        document.getElementById('error').textContent = 'Auth error. Please use Start button.';
        document.getElementById('error').classList.remove('hidden');
      });
    }
  </script>
</body>
</html>
